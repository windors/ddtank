!function(t){var i={};function s(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=i,s.d=function(t,i,n){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)s.d(n,e,function(i){return t[i]}.bind(null,e));return n},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=1)}([function(t,i){window.normalizedRandom=function(){return 2*Math.random()-1},window.degreesToRad=function(t){return t*(Math.PI/180)},window.clamp=function(t,i,s){return Math.min(Math.max(t,Math.min(i,s)),Math.max(i,s))},window.random=function(t,i,s){return 1===arguments.length?Math.random()*arguments[0]:(2==arguments.length&&(s=i,i=t,t=Math.random),i||s?s?t()*(s-i)+i:(s=i,t()*s):Math.random())},window.lerp=function(t,i,s){return(i-t)*s+t}},function(t,i,s){"use strict";s.r(i);class n{constructor(t,i){this.entities=t,this.draggedPoint=null,this.down=!1,this.coord=new Vector,this.offset=new Vector,this.offsetCoord=new Vector,this.canvas=i,this.canvas.addEventListener("mousedown",t=>{this.down=!0,this.draggedPoint&&(this.offset.setXY(t.offsetX-this.draggedPoint.pos.x,t.offsetY-this.draggedPoint.pos.y),this.offsetCoord=Vector.sub(this.coord,this.offset))}),this.canvas.addEventListener("mouseup",t=>{this.draggedPoint&&this.draggedPoint.resetVelocity(),this.down=!1,this.draggedPoint=null}),this.canvas.addEventListener("mousemove",t=>{this.coord.setXY(t.offsetX,t.offsetY),this.offsetCoord=Vector.sub(this.coord,this.offset)}),this.canvas.addEventListener("touchstart",t=>{let i=t.touches[0];this.down=!0,this.draggedPoint&&(this.offset.setXY(i.clientX-this.draggedPoint.pos.x,i.clientY-this.draggedPoint.pos.y),this.offsetCoord=Vector.sub(this.coord,this.offset))}),this.canvas.addEventListener("touchend",t=>{this.draggedPoint&&this.draggedPoint.resetVelocity(),this.down=!1,this.draggedPoint=null}),this.canvas.addEventListener("touchmove",t=>{let i=t.touches[0];this.coord.setXY(i.pageX,i.pageY),this.offsetCoord=Vector.sub(this.coord,this.offset)})}dragPoint(){this.down&&this.draggedPoint.pos.setXY(this.offsetCoord.x,this.offsetCoord.y)}drag(){this.down||(this.draggedPoint=this.getNearestPoint()),this.draggedPoint&&(this.renderDraggedPoint(this.draggedPoint),this.dragPoint())}renderDraggedPoint(t){ctx.beginPath(),ctx.strokeStyle="black",ctx.arc(t.pos.x,t.pos.y,1.5*t.radius,0,2*Math.PI),ctx.stroke(),ctx.closePath()}getNearestPoint(){let t=null;for(let i=0;i<this.entities.length;i++)for(let s=0;s<this.entities[i].points.length;s++){this.entities[i].points[s].pos.dist(this.coord)<20&&(t=this.entities[i].points[s])}return t}}var e=class{constructor(t,i,s){this.entities=[],this.iterations=t,this.currentFrame=0,this.canvas=i,window.WIDTH=i.width,window.HEIGHT=i.height,window.ctx=s,this.mouse=new n(this.entities,this.canvas)}joinEntities(...t){let i=new Entity(this.iterations),s=[],n=[];for(let i=0;i<t.length;i++){s.push(t[i].points),n.push(t[i].sticks);let e=this.entities.indexOf(t[i]);this.entities.splice(e,1)}return s=[].concat.apply([],s),n=[].concat.apply([],n),i.points=s,i.sticks=n,this.addEntity(i),i}addEntity(t){this.entities.push(t)}renderPointIndex(){for(let t=0;t<this.entities.length;t++)this.entities[t].renderPointsIndex()}interact(){this.mouse.drag()}update(){for(let t=0;t<this.entities.length;t++)this.entities[t].update();this.currentFrame++}render(){for(let t=0;t<this.entities.length;t++)this.entities[t].render()}createBox(t,i,s,n){const e=new Entity(this.iterations);return e.addPoint(t,i,0,0),e.addPoint(t+s,i,0,0),e.addPoint(t+s,i+n,0,0),e.addPoint(t,i+n,0,0),e.addStick(0,1),e.addStick(1,2),e.addStick(2,3),e.addStick(3,0),e.addStick(3,1),this.addEntity(e),e}createHexagon(t,i,s,n=50,e=1,o=5){const h=new Entity(this.iterations);let r=2*Math.PI/s;for(let e=0;e<s;++e){let s=e*r;h.addPoint(t+Math.cos(s)*n,i+Math.sin(s)*n,0,0)}let d=h.addPoint(t,i,0,0);for(let t=0;t<s;++t)h.addStick(t,(t+e)%s),h.addStick(new Stick(h.points[t],d)),h.addStick(t,(t+o)%s);return this.addEntity(h),h}createCloth(t,i,s,n,e,o){let h,r,d=new Entity(this.iterations),a=s/e,c=n/e;for(r=0;r<e;++r)for(h=0;h<e;++h){let o=t+h*a-s/2+a/2,u=i+r*c-n/2+c/2;d.addPoint(o,u),h>0&&d.addStick(r*e+h,r*e+h-1),r>0&&d.addStick(r*e+h,(r-1)*e+h)}for(d.tear=function(t){for(let i=0;i<d.sticks.length;i++)d.sticks[i].startPoint.pos.dist(d.sticks[i].endPoint.pos)>(t||20)&&d.removeSticks(d.sticks[i].startPoint)},h=0;h<e;++h)h%o==0&&d.pin(h);return!this.dontPush&&this.addEntity(d),d}createRope(t,i,s=10,n=15,e){let o=new Entity(this.iterations);for(let e=0;e<s;e++)o.addPoint(t+e*n,i,0,0);for(let t=0;t<s-1;t++)o.addStick(t,(t+1)%s);return void 0!==e&&o.pin(e),this.addEntity(o),o}createRagdoll(t,i){let s=new Entity(this.iterations),n=new Point(t,i,0,0,15);n.setMass(5),s.addPoint(n),s.addPoint(t,i+100),s.addPoint(t+30,i+90),s.addPoint(t-30,i+90),s.addPoint(t+20,i+150),s.addPoint(t-20,i+150);let e=new Point(t+30,i+190,0,0,10),o=new Point(t-30,i+190,0,0,10);e.setMass(20),o.setMass(20),s.addPoint(e),s.addPoint(o),s.addPoint(t,i+25),s.addPoint(t+25,i+30),s.addPoint(t-25,i+30);let h=new Point(t+15,i+105,0,0,10),r=new Point(t-15,i+105,0,0,10);return h.setMass(5),r.setMass(5),s.addPoint(h),s.addPoint(r),s.addStick(0,9),s.addStick(0,10),s.addStick(9,10),s.addStick(9,2),s.addStick(10,3),s.addStick(9,3),s.addStick(10,2),s.addStick(2,6),s.addStick(3,7),s.addStick(2,7),s.addStick(3,6),s.addStick(0,1),s.addStick(2,3),s.addStick(9,2),s.addStick(10,3),s.addStick(0,4),s.addStick(0,5),s.addStick(0,6),s.addStick(0,7),s.addStick(1,2),s.addStick(1,3),s.addStick(2,4),s.addStick(3,5),s.addStick(4,6),s.addStick(5,7),s.addStick(0,8),s.addStick(8,1),s.addStick(8,9),s.addStick(9,11),s.addStick(8,10),s.addStick(10,12),this.addEntity(s),s}};s(0);function o(t,i){this.x=t||0,this.y=i||0}o.dist=function(t,i){return t.dist(i)},o.distSq=function(t,i){return t.distSq(i)},o.sub=function(t,i){return new o(t.x-i.x,t.y-i.y)},o.add=function(t,i){return new o(t.x+i.x,t.y+i.y)},o.fromAngle=function(t){let i=new o(0,0);return i.x=Math.cos(t),i.y=Math.sin(t),i},o.random2D=function(t){return o.fromAngle(Math.random()*Math.PI*180)},o.prototype={jitter:function(t,i){var s=new o(t,i);return this.x+=normalizedRandom()*s.x,this.y+=normalizedRandom()*s.y,this},add:function(t,i){return 1===arguments.length?(this.x+=t.x,this.y+=t.y):2===arguments.length&&(this.x+=t,this.y+=i),this},sub:function(t,i){return 1===arguments.length?(this.x-=t.x,this.y-=t.y):2===arguments.length&&(this.x-=t,this.y-=i),this},mult:function(t){return"number"==typeof t?(this.x*=t,this.y*=t):(this.x*=t.x,this.y*=t.y),this},div:function(t){return"number"==typeof t?(this.x/=t,this.y/=t):(this.x/=t.x,this.y/=t.y),this},setAngle:function(t){var i=this.mag();this.x=Math.cos(t)*i,this.y=Math.sin(t)*i},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magSq:function(){return this.x*this.x+this.y*this.y},setXY:function(t,i){return this.x=t,this.y=i,this},setMag:function(t){return this.normalize(),this.mult(t),this},normalize:function(){let t=this.mag();return t>0&&this.div(t),this},normalizeTo:function(t){var i=this.mag();return i>0&&(i=t/i,this.mult(i)),this},limit:function(t){return this.mag()>t&&(this.normalize(),this.mult(t)),this},heading:function(){return-Math.atan2(-this.y,this.x)},dist:function(t){let i=this.x-t.x,s=this.y-t.y;return Math.sqrt(i*i+s*s)},distSq:function(t){let i=this.x-t.x,s=this.y-t.y;return i*i+s*s},copy:function(){return new o(this.x,this.y)},negative:function(){return this.x=-this.x,this.y=-this.y,this},array:function(){return[this.x,this.y]},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},project:function(t){var i=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=i*t.x,this.y=i*t.y,this},rotate:function(t){var i=this.heading()+t,s=this.mag();this.x=Math.cos(i)*s,this.y=Math.sin(i)*s}};window.Verly=e,window.Vector=o,window.Point=class{constructor(t,i,s,n,e){this.pos=new Vector(t,i),this.oldpos=new Vector(t+(s||0),i+(n||0)),this.bounce=.99,this.friction=.97,this.groundFriction=.7,this.gravity=new Vector(0,1),this.pinned=!1,this.radius=e||5,this.color="#e62a4f",this.mass=1,this.sticks=[],this.forceAcc=1}setGravity(t){this.gravity=t}setForceAcc(t){this.forceAcc=t}setMass(t){this.mass=t}setRadius(t){this.radius=t}resetVelocity(){this.oldpos.setXY(this.pos.x,this.pos.y)}pin(){this.pinned=!0}unpin(){this.pinned=!1}rotate(t,i){let s=i.x+(this.pos.x-i.x)*Math.cos(t)-(this.pos.y-i.y)*Math.sin(t),n=i.y+(this.pos.x-i.x)*Math.sin(t)+(this.pos.y-i.y)*Math.cos(t);this.pos.setXY(s,n)}resolveBehaviors(t,i,s){var n=Vector.sub(this.pos,t.pos),e=n.magSq();let o=i?i*i:this.radius*this.radius;if(e<o){var h=n.normalizeTo(1-e/o).mult(s||this.forceAcc);this.applyForce(h)}}applyForce(t){this.pos.add(t)}addMotor(t,i,s,n,e){this.pos.x=t+n*Math.cos(s*e),this.pos.y=i+n*Math.sin(s*e)}constrain(){this.pos.x>WIDTH-this.radius&&(this.pos.x=WIDTH-this.radius),this.pos.x<this.radius&&(this.pos.x=this.radius),this.pos.y>HEIGHT-this.radius&&(this.pos.y=HEIGHT-this.radius),this.pos.y<this.radius&&(this.pos.y=this.radius)}update(){if(this.pinned)return;let t=Vector.sub(this.pos,this.oldpos);if(t.mult(this.friction),this.pos.y>=HEIGHT-this.radius&&t.magSq()>1e-6){var i=t.mag();t.x/=i,t.y/=i,t.mult(i*this.groundFriction)}this.oldpos.setXY(this.pos.x,this.pos.y),this.pos.add(t),this.pos.add(this.gravity)}render(){ctx.beginPath(),ctx.fillStyle=this.color,ctx.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),ctx.fill(),ctx.closePath()}},window.Stick=class{constructor(t,i,s,n){this.startPoint=t,this.endPoint=i,this.stiffness=n||2,this.color="#f5476a",this.length=s||this.startPoint.pos.dist(this.endPoint.pos),this.startPoint.sticks.push(this),this.endPoint.sticks.push(this)}update(t){let i=this.endPoint.pos.x-this.startPoint.pos.x,s=this.endPoint.pos.y-this.startPoint.pos.y,n=Math.sqrt(i*i+s*s),e=(this.length-n)/n*this.stiffness,o=i*e*.5,h=s*e*.5,r=this.startPoint.mass+this.endPoint.mass,d=this.startPoint.mass/r;r=this.endPoint.mass/r,this.startPoint.pinned||(this.startPoint.pos.x-=o*r,this.startPoint.pos.y-=h*r),this.endPoint.pinned||(this.endPoint.pos.x+=o*d,this.endPoint.pos.y+=h*d)}render(){ctx.beginPath(),ctx.strokeStyle=this.color,ctx.moveTo(this.startPoint.pos.x,this.startPoint.pos.y),ctx.lineTo(this.endPoint.pos.x,this.endPoint.pos.y),ctx.stroke(),ctx.closePath()}},window.Entity=class{constructor(t){this.points=[],this.sticks=[],this.iterations=t||16}setGravity(t){for(let i=0;i<this.points.length;i++)this.points[i].setGravity(t)}pin(t){this.points[t].pin()}removeSticks(t){this.sticks.splice(this.sticks.indexOf(t.sticks[0]),1),t.sticks.splice(0,1)}setVelocity(t,i){this.points.map(s=>{s.oldpos.x+=t,s.oldpos.y+=i})}addPoint(t,i,s,n,e){let o;return o=t instanceof Point?t:new Point(t,i,s,n,e),this.points.push(o),o}addStick(t,i,s){t instanceof Stick?this.sticks.push(t):this.sticks.push(new Stick(this.points[t],this.points[i],s))}updatePoints(){for(let t=0;t<this.points.length;t++)this.points[t].update()}updateSticks(t){for(let i=0;i<this.sticks.length;i++)this.sticks[i].update(t)}renderPoints(){for(let t=0;t<this.points.length;t++)this.points[t].render()}updateContrains(){for(let t=0;t<this.points.length;t++)this.points[t].constrain()}renderSticks(){for(let t=0;t<this.sticks.length;t++)this.sticks[t].render()}renderPointsIndex(){for(let t=0;t<this.points.length;t++)ctx.beginPath(),ctx.fillStyle="black",ctx.fillText(t,this.points[t].pos.x+5,this.points[t].pos.y-6),ctx.closePath()}update(){this.updatePoints();for(let t=0;t<this.iterations;++t)this.updateSticks(),this.updateContrains()}render(){this.renderPoints(),this.renderSticks()}},window.TypoGraphy=class{constructor(t,i,s,n){this.x=t,this.y=i,this.size=s,this.stickDistance=this.size,this.iterations=50,this.A=[[0,0,1,0,0],[0,1,1,1,0],[0,1,0,1,0],[1,1,1,1,1],[1,0,0,0,1]],this.B=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,0,0],[1,1,1,1,0],[1,1,1,0,0]],this.C=[[1,1,1,1,0],[1,1,1,1,0],[1,1,0,0,0],[1,1,1,1,0],[1,1,1,1,0]],this.D=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,0,0]],this.E=[[0,1,1,1,0],[0,1,1,0,0],[0,1,1,1,0],[0,1,1,0,0],[0,1,1,1,0]],this.S=[[0,1,1,1,0],[1,1,1,0,0],[1,1,1,1,0],[0,1,1,1,0],[1,1,1,0,0]],this.I=[[0,0,1,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0]],this.K=[[1,0,1,1,0],[1,1,1,0,0],[1,1,0,0,0],[1,1,1,0,0],[1,0,1,1,0]],this.U=[[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[0,1,1,1,0]],this.N=[[0,0,0,0,0,0],[1,1,0,0,1,1],[1,1,1,0,1,1],[1,1,1,1,1,1],[1,1,0,1,1,1],[1,1,0,0,1,1]],this.R=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,0,0],[1,1,1,1,0]],this.G=[[0,1,1,1,0],[1,1,1,0,0],[1,1,0,1,1],[1,1,1,1,1],[0,1,1,1,0]],this.L=[[1,1,0,0,0],[1,1,0,0,0],[1,1,0,0,0],[1,1,1,1,1],[1,1,1,1,1]],this.Y=[[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0]],this.V=[[1,0,0,0,1],[1,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[0,1,1,1,0]],this.X=[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]],this.P=[[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,1,1,0,0],[1,1,1,0,0]],this.H=[[1,1,0,1,1],[1,1,0,1,1],[1,1,1,1,1],[1,1,0,1,1],[1,1,0,1,1]],this.O=[[0,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[1,1,0,1,1],[0,1,1,1,0]],this.letters={A:this.A,B:this.B,C:this.C,D:this.D,E:this.E,K:this.K,I:this.I,S:this.S,U:this.U,N:this.N,R:this.R,G:this.G,L:this.L,Y:this.Y,V:this.V,X:this.X,P:this.P,H:this.H,O:this.O};let e=this.letters[n];this.text=new Entity(this.iterations);for(let t=0;t<e.length;t++)for(let i=0;i<e[t].length;i++)if(1==e[i][t]){let s=new Point(this.x+t*this.size,this.y+i*this.size);s.setRadius(2),this.text.addPoint(s)}for(let t=0;t<this.text.points.length;t++)for(let i=0;i<this.text.points.length&&this.text.points[t]!=this.text.points[i];i++){let s=this.text.points[t].pos.dist(this.text.points[i].pos);s>0&&s<this.size+this.stickDistance&&this.text.addStick(t,i)}}};i.default=e}]);
//# sourceMappingURL=verly.bundle.js.map